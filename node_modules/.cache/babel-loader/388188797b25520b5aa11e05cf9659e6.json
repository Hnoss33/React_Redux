{"ast":null,"code":"var _jsxFileName = \"/Users/hydra/Documents/GitHub/blogReact/blog_react/src/components/Tareas/Guardar.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Spinner from '../general/Spinner';\nimport Fatal from '../general/Fatal';\nimport * as tareasActions from '../../actions/tareasAction.js';\n\nclass Guardar extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.cambioUsuarioId = event => {\n      this.props.cambioUsuarioId(event.target.value);\n    };\n\n    this.cambioTitulo = event => {\n      this.props.cambioTitulo(event.target.value);\n    };\n\n    this.guardar = () => {\n      const {\n        match: {\n          params: {\n            usu_id,\n            tar_id\n          }\n        },\n        tareas,\n        usuario_id,\n        titulo,\n        agregar,\n        editar\n      } = this.props;\n      const nueva_tarea = {\n        userId: usuario_id,\n        title: titulo,\n        completed: false\n      };\n\n      if (usu_id && tar_id) {\n        const tarea = tareas[usu_id][tar_id];\n        const tarea_editada = { ...nueva_tarea,\n          completed: tarea.completed,\n          id: tarea.id\n        };\n        editar(tarea_editada);\n      } else {\n        agregar(nueva_tarea);\n      }\n    };\n\n    this.deshabilitar = () => {\n      const {\n        usuario_id,\n        titulo,\n        cargando\n      } = this.props;\n\n      if (cargando) {\n        return true;\n      }\n\n      if (!usuario_id || !titulo) {\n        return true;\n      }\n\n      return false;\n    };\n\n    this.mostrarAccion = () => {\n      const {\n        error,\n        cargando\n      } = this.props;\n\n      if (cargando) {\n        return /*#__PURE__*/React.createElement(Spinner, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }\n        });\n      }\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(Fatal, {\n          mensaje: error,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params: {\n          usu_id,\n          tar_id\n        }\n      },\n      tareas,\n      cambioUsuarioId,\n      cambioTitulo\n    } = this.props;\n\n    if (usu_id && tar_id) {\n      const tarea = tareas[usu_id][tar_id];\n      cambioUsuarioId(tarea.userId);\n      cambioTitulo(tarea.title);\n    }\n  }\n\n  // Y en el componente de Guardar.js en el render evaluamos si \n  // regresar es true redirecciona a tareas/index.js\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 4\n      }\n    }, this.props.regresar ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/tareas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }\n    }) : '', /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }\n    }, \"Guardar Tarea\"), \"Usuario id:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      value: this.props.usuario_id,\n      onChange: this.cambioUsuarioId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }), \"T\\xEDtulo:\", /*#__PURE__*/React.createElement(\"input\", {\n      value: this.props.titulo,\n      onChange: this.cambioTitulo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: this.deshabilitar(),\n      onClick: this.guardar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }\n    }, \"Guardar\"), this.mostrarAccion());\n  }\n\n}\n\nconst mapStateToProps = ({\n  tareasReducer\n}) => tareasReducer;\n\nexport default connect(mapStateToProps, tareasActions)(Guardar);","map":{"version":3,"sources":["/Users/hydra/Documents/GitHub/blogReact/blog_react/src/components/Tareas/Guardar.js"],"names":["React","Component","connect","Redirect","Spinner","Fatal","tareasActions","Guardar","cambioUsuarioId","event","props","target","value","cambioTitulo","guardar","match","params","usu_id","tar_id","tareas","usuario_id","titulo","agregar","editar","nueva_tarea","userId","title","completed","tarea","tarea_editada","id","deshabilitar","cargando","mostrarAccion","error","componentDidMount","render","regresar","mapStateToProps","tareasReducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Spinner from '../general/Spinner';\nimport Fatal from '../general/Fatal';\n\nimport * as tareasActions from '../../actions/tareasAction.js';\n\nclass Guardar extends Component {\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\tmatch: { params: { usu_id, tar_id } },\n\t\t\ttareas,\n\t\t\tcambioUsuarioId,\n\t\t\tcambioTitulo\n\t\t} = this.props;\n\n\t\tif (usu_id && tar_id) {\n\t\t\tconst tarea = tareas[usu_id][tar_id];\n\t\t\tcambioUsuarioId(tarea.userId);\n\t\t\tcambioTitulo(tarea.title);\n\t\t}\n\t}\n\n\tcambioUsuarioId = (event) => {\n\t\tthis.props.cambioUsuarioId(event.target.value);\n\t};\n\n\tcambioTitulo = (event) => {\n\t\tthis.props.cambioTitulo(event.target.value);\n\t};\n\n    // Al componente Guardar.js le agregamos al botón de \n    // guardar un evento onClick que este evento llama al \n    // actions creator agregar(nueva_tarea) mandándole por \n    // parámetro un objeto con los valores de la nuevas \n    // tarea que se enviara a la API.\n\tguardar = () => {\n\t\tconst {\n\t\t\tmatch: { params: { usu_id, tar_id } },\n\t\t\ttareas,\n\t\t\tusuario_id,\n\t\t\ttitulo,\n\t\t\tagregar,\n\t\t\teditar\n\t\t} = this.props;\n\n\t\tconst nueva_tarea = {\n\t\t\tuserId: usuario_id,\n\t\t\ttitle: titulo,\n\t\t\tcompleted: false\n\t\t};\n\n\t\tif (usu_id && tar_id) {\n\t\t\tconst tarea = tareas[usu_id][tar_id];\n\t\t\tconst tarea_editada = {\n\t\t\t\t...nueva_tarea,\n\t\t\t\tcompleted: tarea.completed,\n\t\t\t\tid: tarea.id\n\t\t\t};\n\t\t\teditar(tarea_editada);\n\t\t}\n\t\telse {\n\t\t\tagregar(nueva_tarea);\n\t\t}\n\t};\n// Al botón de guardar en el componente Guardar.js \n// le añadimos un atributo disabled que este me desactiva\n// el botón si la expresión me retorna true, la función se\n// llama deshabilitar y esta retorna true si no se ha escrito\n// todavía en los dos inputs\n\ndeshabilitar = () => {\n    const { usuario_id, titulo, cargando } = this.props;\n    if (cargando) {\n        return true;\n    }\n    if (!usuario_id || !titulo) {\n        return true;\n    }\n    return false;\n};\n\n\n    // Cuando se le di click al botón manejare los estados \n    // de la petición de tipo post colocando el spinner si \n    // esta cargando o si hay un error.\n\n\tmostrarAccion = () => {\n\t\tconst { error, cargando } = this.props;\n\t\tif (cargando) {\n\t\t\treturn <Spinner />;\n\t\t}\n\t\tif (error) {\n\t\t\treturn <Fatal mensaje={error} />;\n\t\t}\n\t};\n    // Y en el componente de Guardar.js en el render evaluamos si \n    // regresar es true redirecciona a tareas/index.js\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\t(this.props.regresar) ?\n\t\t\t\t\t<Redirect to='/tareas' />\n\t\t\t\t\t: ''\n\t\t\t\t}\n\t\t\t\t<h1>Guardar Tarea</h1>\n\t\t\t\tUsuario id:\n\t\t\t\t<input\n\t\t\t\t\ttype='number'\n\t\t\t\t\tvalue={ this.props.usuario_id }\n\t\t\t\t\tonChange={ this.cambioUsuarioId }\n\t\t\t\t/>\n\t\t\t\t<br /><br />\n\t\t\t\tTítulo:\n\t\t\t\t<input\n\t\t\t\t\tvalue={ this.props.titulo }\n\t\t\t\t\tonChange={ this.cambioTitulo }\n\t\t\t\t/>\n\t\t\t\t<br /><br />\n\t\t\t\t<button\n\t\t\t\t\tdisabled={ this.deshabilitar() }\n\t\t\t\t\tonClick={ this.guardar }\n\t\t\t\t>\n\t\t\t\t\tGuardar\n\t\t\t\t</button>\n\t\t\t\t{ this.mostrarAccion() }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nconst mapStateToProps = ({ tareasReducer }) => tareasReducer;\n\nexport default connect(mapStateToProps, tareasActions)(Guardar);"]},"metadata":{},"sourceType":"module"}