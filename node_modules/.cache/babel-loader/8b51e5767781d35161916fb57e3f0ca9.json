{"ast":null,"code":"var _jsxFileName = \"/Users/hydra/Documents/GitHub/blogReact/blog_react/src/components/Publicaciones/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Spinner from '../general/Spinner';\nimport Fatal from '../general/Fatal';\nimport * as usuariosActions from '../../actions/usuariosActions';\nimport * as publicacionesActions from '../../actions/publicacionesActions'; //conectamos la informacion de usuarios reducer importando react-redux, conectamos este componente a redux \n\nconst {\n  traerTodos: usuariosTraerTodos\n} = usuariosActions;\nconst {\n  traerPorUsuario: publicacionesTraerPorUsuario\n} = publicacionesActions;\n\nclass Publicaciones extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.ponerUsuario = () => {\n      const {\n        usuariosReducer,\n        match: {\n          params: {\n            key\n          }\n        }\n      } = this.props;\n\n      if (usuariosReducer.cargando) {\n        return /*#__PURE__*/React.createElement(Spinner, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }\n        });\n      }\n    };\n  }\n\n  async componentDidMount() {\n    //esta parte se tradeuce asi : si no existen los usuarios entonces entonces se traen de usuarios action porque si nos vamos a otra pagina ellos deberian estar ahi \n    //osea que cuando regrese a usuarios no voy a necesitar traerlos porque ya existen en el reducer \n    const {\n      usuariosTraerTodos,\n      publicacionesTraerPorUsuario,\n      match: {\n        params: {\n          key\n        }\n      }\n    } = this.props; //!!se saca todo esto del this.props para no colocarlo en los IF el codigo se reduce\n\n    if (!this.props.usuariosReducer.usuarios.length) {\n      //el estado es el suaurioReducer, este se actualiza poreso no lo sacamos y lo colocamos en la constante de arriba, se ejecuta una vez despues del render\n      await usuariosTraerTodos();\n    }\n\n    if (!('publicciones_key' in this.props.usuariosReducer.usuarios[key])) {\n      publicacionesTraerPorUsuario(key);\n    }\n  }\n\n  render() {\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, \"Publicaciones de\"), this.props.match.params.key, this.ponerUsuario());\n  }\n\n}\n\nconst mapStateToProps = ({\n  usuariosReducer,\n  publicacionesReducer\n}) => {\n  return {\n    usuariosReducer,\n    publicacionesReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  usuariosTraerTodos,\n  publicacionesTraerPorUsuario\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Publicaciones);","map":{"version":3,"sources":["/Users/hydra/Documents/GitHub/blogReact/blog_react/src/components/Publicaciones/index.js"],"names":["React","Component","connect","Spinner","Fatal","usuariosActions","publicacionesActions","traerTodos","usuariosTraerTodos","traerPorUsuario","publicacionesTraerPorUsuario","Publicaciones","ponerUsuario","usuariosReducer","match","params","key","props","cargando","componentDidMount","usuarios","length","render","console","log","mapStateToProps","publicacionesReducer","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AAEA,OAAO,KAAKC,eAAZ,MAAiC,+BAAjC;AACA,OAAO,KAAKC,oBAAZ,MAAsC,oCAAtC,C,CACA;;AAEA,MAAM;AAAEC,EAAAA,UAAU,EAAEC;AAAd,IAAqCH,eAA3C;AACA,MAAM;AAAEI,EAAAA,eAAe,EAAEC;AAAnB,IAAoDJ,oBAA1D;;AAEA,MAAMK,aAAN,SAA4BV,SAA5B,CAAsC;AAAA;AAAA;;AAAA,SAgBtCW,YAhBsC,GAgBvB,MAAM;AACjB,YAAM;AAAEC,QAAAA,eAAF;AACFC,QAAAA,KAAK,EAAE;AAACC,UAAAA,MAAM,EAAE;AAACC,YAAAA;AAAD;AAAT;AADL,UAED,KAAKC,KAFV;;AAIC,UAAIJ,eAAe,CAACK,QAApB,EAA8B;AAC9B,4BAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACC;AACL,KAxBqC;AAAA;;AAClC,QAAMC,iBAAN,GAA0B;AAAE;AACxB;AACA,UAAM;AACFX,MAAAA,kBADE;AAEFE,MAAAA,4BAFE;AAGFI,MAAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAE;AAACC,UAAAA;AAAD;AAAT;AAHL,QAIF,KAAKC,KAJT,CAFsB,CAML;;AACjB,QAAI,CAAC,KAAKA,KAAL,CAAWJ,eAAX,CAA2BO,QAA3B,CAAoCC,MAAzC,EAAiD;AAAE;AAC9C,YAAMb,kBAAkB,EAAxB;AAEJ;;AACD,QAAI,EAAE,sBAAsB,KAAKS,KAAL,CAAWJ,eAAX,CAA2BO,QAA3B,CAAoCJ,GAApC,CAAxB,CAAJ,EAAuE;AACnEN,MAAAA,4BAA4B,CAACM,GAAD,CAA5B;AACH;AACJ;;AAWDM,EAAAA,MAAM,GAAG;AACLC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;AAEA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,EAIC,KAAKA,KAAL,CAAWH,KAAX,CAAiBC,MAAjB,CAAwBC,GAJzB,EAKC,KAAKJ,YAAL,EALD,CADJ;AASH;;AAtCiC;;AAyCtC,MAAMa,eAAe,GAAG,CAAC;AAAEZ,EAAAA,eAAF;AAAmBa,EAAAA;AAAnB,CAAD,KAA+C;AACtE,SAAO;AAAEb,IAAAA,eAAF;AAAmBa,IAAAA;AAAnB,GAAP;AACA,CAFD;;AAIA,MAAMC,kBAAkB,GAAG;AAC1BnB,EAAAA,kBAD0B;AAE1BE,EAAAA;AAF0B,CAA3B;AAKA,eAAeR,OAAO,CAACuB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6ChB,aAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Spinner from '../general/Spinner';\nimport Fatal from '../general/Fatal';\n\nimport * as usuariosActions from '../../actions/usuariosActions';\nimport * as publicacionesActions from '../../actions/publicacionesActions';\n//conectamos la informacion de usuarios reducer importando react-redux, conectamos este componente a redux \n\nconst { traerTodos: usuariosTraerTodos } = usuariosActions;\nconst { traerPorUsuario: publicacionesTraerPorUsuario } = publicacionesActions;\n\nclass Publicaciones extends Component {\n    async componentDidMount() { //esta parte se tradeuce asi : si no existen los usuarios entonces entonces se traen de usuarios action porque si nos vamos a otra pagina ellos deberian estar ahi \n        //osea que cuando regrese a usuarios no voy a necesitar traerlos porque ya existen en el reducer \n        const {\n            usuariosTraerTodos,\n            publicacionesTraerPorUsuario,\n            match: {params: {key}}\n        } = this.props;  //!!se saca todo esto del this.props para no colocarlo en los IF el codigo se reduce\n        if (!this.props.usuariosReducer.usuarios.length) { //el estado es el suaurioReducer, este se actualiza poreso no lo sacamos y lo colocamos en la constante de arriba, se ejecuta una vez despues del render\n             await usuariosTraerTodos();\n\n        }\n        if (!('publicciones_key' in this.props.usuariosReducer.usuarios[key])) {\n            publicacionesTraerPorUsuario(key);\n        }\n    }\nponerUsuario = () => {\n    const { usuariosReducer,\n        match: {params: {key}}\n     } = this.props;\n\n     if (usuariosReducer.cargando) {\n     return <Spinner/>\n     }\n}\n\n    render() {\n        console.log(this.props);\n        \n        return (\n            <div>\n            <h1>\n            Publicaciones de\n            </h1>\n            {this.props.match.params.key} \n            {this.ponerUsuario()}   \n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({ usuariosReducer, publicacionesReducer }) => {\n\treturn { usuariosReducer, publicacionesReducer };\n};\n\nconst mapDispatchToProps = {\n\tusuariosTraerTodos,\n\tpublicacionesTraerPorUsuario\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Publicaciones);"]},"metadata":{},"sourceType":"module"}